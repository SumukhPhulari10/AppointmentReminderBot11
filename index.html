<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Appointment Bot - Smart Scheduling & Reminders</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="container">
        <!-- Header Section -->
        <header class="header">
            <div class="header-content">
                <div class="bot-avatar">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 5C13.66 5 15 6.34 15 8C15 9.66 13.66 11 12 11C10.34 11 9 9.66 9 8C9 6.34 10.34 5 12 5ZM12 19.2C9.5 19.2 7.29 17.92 6 15.98C6.03 13.99 10 12.9 12 12.9C13.99 12.9 17.97 13.99 18 15.98C16.71 17.92 14.5 19.2 12 19.2Z"
                            fill="currentColor" />
                    </svg>
                </div>
                <div class="header-text">
                    <h1 class="header-title">Appointment Reminder Bot</h1>
                    <p class="header-subtitle">Smart Scheduling & Reminders</p>
                </div>
                <button class="settings-btn" id="settingsBtn" title="Notification Settings">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M19.14 12.94C19.16 12.63 19.16 12.32 19.14 12.01L21.41 10.24C21.61 10.08 21.66 9.79 21.53 9.57L19.38 5.84C19.25 5.62 18.99 5.54 18.77 5.62L16.09 6.7C15.54 6.27 14.93 5.91 14.28 5.64L13.87 2.79C13.83 2.54 13.62 2.37 13.37 2.37H9.07C8.82 2.37 8.61 2.54 8.57 2.79L8.16 5.64C7.51 5.91 6.9 6.27 6.35 6.7L3.67 5.62C3.45 5.54 3.19 5.62 3.06 5.84L0.91 9.57C0.78 9.79 0.83 10.08 1.03 10.24L3.3 12.01C3.28 12.32 3.28 12.63 3.3 12.94L1.03 14.71C0.83 14.87 0.78 15.16 0.91 15.38L3.06 19.11C3.19 19.33 3.45 19.41 3.67 19.33L6.35 18.25C6.9 18.68 7.51 19.04 8.16 19.31L8.57 22.16C8.61 22.41 8.82 22.58 9.07 22.58H13.37C13.62 22.58 13.83 22.41 13.87 22.16L14.28 19.31C14.93 19.04 15.54 18.68 16.09 18.25L18.77 19.33C18.99 19.41 19.25 19.33 19.38 19.11L21.53 15.38C21.66 15.16 21.61 14.87 21.41 14.71L19.14 12.94ZM12 15.5C10.07 15.5 8.5 13.93 8.5 12C8.5 10.07 10.07 8.5 12 8.5C13.93 8.5 15.5 10.07 15.5 12C15.5 13.93 13.93 15.5 12 15.5Z"
                            fill="currentColor" />
                    </svg>
                </button>
            </div>
        </header>

        <!-- Chat Area -->
        <div class="chat-container" id="chatContainer">
            <div class="chat-messages" id="chatMessages">
                <!-- Welcome message will be added by JavaScript -->
            </div>
        </div>

        <!-- Input Area -->
        <div class="input-container">
            <!-- Quick Action Buttons -->
            <div class="quick-actions">
                <div class="quick-action-wrapper">
                    <button class="quick-action-btn" id="datePickerBtn" title="Select Date">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M19 4H18V2H16V4H8V2H6V4H5C3.89 4 3.01 4.9 3.01 6L3 20C3 21.1 3.89 22 5 22H19C20.1 22 21 21.1 21 20V6C21 4.9 20.1 4 19 4ZM19 20H5V9H19V20Z"
                                fill="currentColor" />
                        </svg>
                        <span>Date</span>
                    </button>
                    <input type="date" id="dateInput" class="hidden-input">
                </div>

                <div class="quick-action-wrapper">
                    <button class="quick-action-btn" id="timePickerBtn" title="Select Time">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M11.99 2C6.47 2 2 6.48 2 12C2 17.52 6.47 22 11.99 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 11.99 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20ZM12.5 7H11V13L16.25 16.15L17 14.92L12.5 12.25V7Z"
                                fill="currentColor" />
                        </svg>
                        <span>Time</span>
                    </button>
                    <!-- Removed native time input, using custom modal instead -->
                </div>
                <div class="quick-action-wrapper">
                    <button class="quick-action-btn" id="myAppointmentsBtn" title="My Appointments">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M19 3H18V1H16V3H8V1H6V3H5C3.89 3 3 3.9 3 5V19C3 20.1 3.89 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V9H19V19ZM19 7H5V5H19V7Z"
                                fill="currentColor" />
                        </svg>
                        <span>Appointments</span>
                    </button>
                </div>
            </div>

            <!-- Custom Time Picker Modal -->
            <div class="time-picker-modal" id="timePickerModal">
                <div class="time-picker-content">
                    <div class="time-picker-header">
                        <h3>Select Time</h3>
                        <button class="close-picker" id="closeTimePicker">×</button>
                    </div>
                    <div class="time-display">
                        <span id="selectedHour">12</span>:<span id="selectedMinute">00</span>
                        <div class="ampm-toggle">
                            <button id="amBtn" class="active">AM</button>
                            <button id="pmBtn">PM</button>
                        </div>
                    </div>
                    <div class="time-selectors">
                        <div class="selector-column">
                            <label>Hour</label>
                            <div class="scroll-select" id="hourList">
                                <!-- Generated by JS -->
                            </div>
                        </div>
                        <div class="selector-column">
                            <label>Minute</label>
                            <div class="scroll-select" id="minuteList">
                                <!-- Generated by JS -->
                            </div>
                        </div>
                    </div>
                    <button id="confirmTimeBtn" class="confirm-time-btn">Set Time</button>
                </div>
            </div>

            <!-- Settings Modal -->
            <div class="time-picker-modal" id="settingsModal">
                <div class="time-picker-content settings-content">
                    <div class="time-picker-header">
                        <h3>Notification Settings</h3>
                        <button class="close-picker" id="closeSettingsBtn">×</button>
                    </div>

                    <div class="settings-form">
                        <div class="form-group">
                            <label for="userName">Full Name</label>
                            <input type="text" id="userName" placeholder="John Doe">
                        </div>

                        <div class="form-group">
                            <label for="userEmail">Email Address</label>
                            <input type="email" id="userEmail" placeholder="john@example.com">
                        </div>

                        <div class="form-group">
                            <label for="userPhone">Phone Number</label>
                            <input type="tel" id="userPhone" placeholder="+1 234 567 8900">
                        </div>

                        <div class="notification-preferences">
                            <label class="toggle-control">
                                <input type="checkbox" id="emailNotif" checked>
                                <span class="control-label">Email Reminders</span>
                            </label>

                            <label class="toggle-control">
                                <input type="checkbox" id="smsNotif" checked>
                                <span class="control-label">SMS Reminders</span>
                            </label>
                        </div>
                    </div>

                    <button id="saveSettingsBtn" class="confirm-time-btn">Save Preferences</button>
                </div>
            </div>

            <!-- Subject Picker Modal -->
            <div class="time-picker-modal" id="subjectModal">
                <div class="time-picker-content">
                    <div class="time-picker-header">
                        <h3>Appointment Details</h3>
                        <button class="close-picker" id="closeSubjectBtn">×</button>
                    </div>
                    <div class="settings-form">
                        <div class="form-group">
                            <label for="subjectInput">What is this appointment for?</label>
                            <input type="text" id="subjectInput" placeholder="e.g., Dentist, Team Meeting, Lunch..."
                                autocomplete="off">
                        </div>
                    </div>
                    <button id="confirmSubjectBtn" class="confirm-time-btn">Schedule Appointment</button>
                </div>
            </div>

            <div class="input-wrapper">
                <input type="text" id="userInput" class="user-input" placeholder="Type your appointment request…"
                    autocomplete="off">
                <button id="sendButton" class="send-button">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M2.01 21L23 12L2.01 3L2 10L17 12L2 14L2.01 21Z" fill="currentColor" />
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Appointments List Modal -->
    <div class="modal-overlay" id="appointmentsModal">
        <div class="modal-content large-modal">
            <div class="modal-header">
                <h3>My Appointments</h3>
                <button class="close-modal-btn" id="closeAppointmentsBtn">&times;</button>
            </div>
            <div class="modal-body">
                <div id="appointmentsList" class="appointments-list">
                    <!-- Items injected here -->
                    <div class="empty-state">Loading...</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Appointment Modal -->
    <div class="modal-overlay" id="editModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Edit Appointment</h3>
                <button class="close-modal-btn" id="closeEditBtn">&times;</button>
            </div>
            <div class="modal-body">
                <input type="hidden" id="editApptId">
                <div class="input-group">
                    <label>Subject</label>
                    <input type="text" id="editSubject" placeholder="e.g. Dentist">
                </div>
                <div class="input-group">
                    <label>New Date & Time</label>
                    <input type="text" id="editDateStr" placeholder="e.g. Tomorrow at 3pm">
                </div>
                <!-- Simpler to just use text for date update for now, or could reuse pickers but that's complex to wire up -->
                <button class="save-btn" id="saveEditBtn">Update Appointment</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>